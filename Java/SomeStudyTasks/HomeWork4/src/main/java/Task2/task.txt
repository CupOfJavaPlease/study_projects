ЛР1 - Задача2

Создать сервис (класс ImportService) для импорта данных из текстового файла в формате СSV (разделитель: , ) в таблицу product. 

Текстовый файл импорта содержит значения кода, имени и стоимости продукта разделенные:,  

Пример текстового файла для импорта данных содержащего инфо о продуктах:  
apple,яблоко,90
sugar,сахар,50

Импорт данных необходимо выполнять из определенных каталогов файловой системы из всех файлов с расширением fileExt (входные параметры данного сервиса!).  

public class ImportService{

    public ImportService(String[] dirPaths, String fileExt){
  // ...
    }
    
}

Создать конструктор класса ImportService - параметр массив объектов типа String - каталоги файловой системы и расширение файла для импорта данных.
Сервис (ImportService) должен создавать и запускать n-задач (где n=dirPaths.length - кол-во элементов массива) типа ImportTask (можно использовать Runnable или Callable интерфейс) в асинхронном режиме с помощью пула потоков!  

Каждая задача типа ImportTask выполняет импорт данных из всех файлов с расширением fileExt каталога файловой системы в таблицу product (!) 
public class ImportTask implements Runnable {

    public ImportTask(String dirPath, String fileExt){
// ...
    }    
}

В случае, если в таблице product содержится запись с таким кодом (code), то стоимость и имя продукта нужно обновить (update).   
В случае, если в таблице product НЕ содержится записи с таким кодом (code), необходимо выполнить вставку записи в таблицу product (insert).  


Сервис должен выводить время выполнения каждой из задач ImportTask после их выполнения (!)


Колонка code - содержит только уникальные значения 
(т. е. НЕ может быть двух записей с одним и тем же кодом продукта!)

-- product
CREATE TABLE product (
 product_id serial PRIMARY KEY,
 code  VARCHAR ( 255 ) UNIQUE NOT NULL,
 product_name VARCHAR ( 1024 ) UNIQUE NOT NULL,
 price numeric NOT NULL,
 creation_date TIMESTAMP NOT NULL        
);